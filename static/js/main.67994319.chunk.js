(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{139:function(t,e,n){},140:function(t,e,n){},141:function(t,e,n){},165:function(t,e,n){},191:function(t,e,n){},192:function(t,e,n){},193:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n(0),r=n.n(c),s=n(16),i=n.n(s),o=(n(139),n(5)),l=(n(140),n(141),n(142),n(143),n(22)),j=n(50),u=n(219),p=n(220),d=n(221),b=n(222),h=n(223),m=n(224),f=[{player_name:"",player_id:"",points_total:"",transfers_total:"",current_gameweek:"",chips:[{chip_name:"",chip_date:"",chip_matchday:""}],matches:[{gameweek:"",game_week_points:"",points_total:"",team_value:"",game_week_transfers:"",game_week_transfers_cost:"",bench_points:""}]}],O=function(t,e){var n=Object(c.useState)(e),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],u=l[1],p=Object(c.useState)(!1),d=Object(o.a)(p,2),b=d[0],h=d[1];return Object(c.useEffect)((function(){fetch(t).then((function(t){return t.json()})).then((function(t){h(!0),u(!1),s(t)})).catch((function(t){u(!1),console.log(t)}))}),[t]),{response:r,isFetching:j,isDisplayable:b}},_=n(217),x=n(110),v=n.n(x),g=function(t){return t.data.IsFetching?Object(a.jsx)(v.a,{}):t.data.isDisplayable?t.component:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Loading Please Wait..."}),Object(a.jsx)(_.a,{})]})},y=n(126),k=function(t){var e=t.game_weeks.map((function(t){return Object(a.jsxs)("th",{children:["GW",t.gameweek]})}));return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Rank"}),Object(a.jsx)("th",{children:"Players"}),e,function(){if("points_total"!==t.type&&"team_value"!==t.type)return Object(a.jsx)("th",{children:"Total"})}()]})},w=function(t){var e=t.averages.map((function(e,n){var c="team_value"===t.type?"".concat((e/10).toFixed(1),"M"):e.toFixed(1);return Object(a.jsx)("td",{children:c},n)}));return Object(a.jsxs)(a.Fragment,{children:[t.rows,Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{}),Object(a.jsx)("td",{children:"Average"}),e,function(){if("points_total"!==t.type&&"team_value"!==t.type)return Object(a.jsx)("td",{children:t.total_averages})}()]})]})},N=function(t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:t.title}),Object(a.jsx)(y.a,{responsive:!0,children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)(k,{total:t.total,game_weeks:t.data[0].matches,type:t.type}),Object(a.jsx)(w,{type:t.type,rows:t.rows,averages:t.averages,total_averages:t.total_averages})]})})]})},F=function(t){var e="team_value"===t.type?"".concat((t.value/10).toFixed(1),"M"):t.value;return Object(a.jsx)("td",{className:"".concat(t.rating,"-week ").concat(t.table_style),children:e})},S=function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.rank}),Object(a.jsx)("td",{children:t.player_name}),t.game_weeks,function(){if("points_total"!==t.type&&"team_value"!==t.type)return Object(a.jsx)(F,{rating:t.total_rating,value:t.total_points})}()]})},T=function(t,e){return t>=e?"good":"bad"},P=function(t){return t.reduce((function(t,e){return t+e}))},M=function(t){for(var e,n,c=O("https://kachiis-rest.herokuapp.com/api/fpl_players_refresh",f),r=c.response,s=[],i=[],o=0;o<r[0].matches.length;o++)for(var l=0;l<r.length;l++){var j=r[l].matches[o];switch(t.type){case"weekly_points":s.push(j.game_week_points);break;case"points_total":s.push(j.points_total);break;case"team_value":s.push(j.team_value);break;case"bench_points":s.push(Math.floor(j.bench_points));break;case"transfer_points":s.push(Math.floor(j.game_week_transfers_cost));break;default:s.push(j.points_total)}}for(var u=0;u<s.length;u+=r.length)i.push(P(s.slice(u,u+r.length))/r.length);switch(t.type){case"weekly_points":e=r.map((function(t){return t.points_total})).reduce((function(t,e){return t+e}))/r.length,n=r;break;case"bench_points":e=P(r.map((function(t){return P(t.matches.map((function(t){return t.bench_points})))})))/r.length,n=r.sort((function(t,e){var n=function(t){return P(t.matches.map((function(t){return t.bench_points})))};return n(t)-n(e)}));break;case"team_value":n=r.sort((function(t,e){var n=function(t){return t.matches[e.matches.length-1].team_value};return n(e)-n(t)}));break;case"transfer_points":n=r.sort((function(t,e){var n=function(t){return P(t.matches.map((function(t){return t.game_week_transfers_cost})))};return n(t)-n(e)})),e=P(r.map((function(t){return P(t.matches.map((function(t){return t.game_week_transfers_cost})))})))/r.length;break;default:n=r}var p=n.map((function(n,c){var s,o,l=n.matches.map((function(e,c){var r,s,o=i[n.matches.indexOf(e)];switch(t.type){case"points_total":r=e.points_total;break;case"weekly_points":r=e.game_week_points;break;case"team_value":r=e.team_value;break;case"bench_points":s=(r=e.bench_points)>o?"bad":"good";break;case"transfer_points":s=(r=e.game_week_transfers_cost)>0?4===e.game_week_transfers_cost?"hit":"bad":"neutral"}var l="bench_points"===t.type||"transfer_points"===t.type?s:T(r,o);return Object(a.jsx)(F,{type:t.type,rating:l,value:r},c)}));switch(t.type){case"bench_points":o=(s=P(n.matches.map((function(t){return t.bench_points}))))>e?"bad":"good";break;case"weekly_points":s=n.points_total;break;case"transfer_points":o=(s=P(n.matches.map((function(t){return t.game_week_transfers_cost}))))>e?"bad":"good"}var j="bench_points"===t.type||"transfer_points"===t.type?o:T(s,e);return Object(a.jsx)(S,{type:t.type,rank:r.indexOf(n)+1,player_name:n.player_name,game_weeks:l,total_rating:j,total_points:s},c)})),d=Object(a.jsx)(N,{title:t.title,data:r,type:t.type,rows:p,averages:i,total_averages:e});return Object(a.jsx)("div",{className:"table-container",children:Object(a.jsx)(g,{data:c,component:d})})},C=[{title:"Weekly Totals",content:Object(a.jsx)(M,{type:"points_total",title:"Weekly Totals"})},{title:"Team value",content:Object(a.jsx)(M,{type:"team_value",title:"Team Value"})},{title:"Bench points",content:Object(a.jsx)(M,{type:"bench_points",title:"Bench Points"})},{title:"Points on transfers",content:Object(a.jsx)(M,{type:"transfer_points",title:"Transfer Points"})}],E=n(218),L=n(237),A=n(236),D=n(238),W=function(t){var e=t.dropdown_menus.map((function(t,e){return Object(a.jsx)(E.a,{className:"nav-dropdown-menu-link",children:Object(a.jsx)(j.b,{to:"/player/".concat(t),className:"nav-dropdown-menu-link",children:t})},e)}));return Object(a.jsxs)(L.a,{children:[Object(a.jsx)(A.a,{nav:!0,caret:!0,className:"nav-links",children:t.head_menu}),Object(a.jsx)(D.a,{inNavbar:!0,nav:!0,className:"nav-dropdown-menu",children:e})]})},B=(n(165),function(t){var e=Object(c.useState)(f),n=Object(o.a)(e,2),r=n[0],s=n[1],i=C.map((function(t,e){var n=t.title.split(" ").join("-");return Object(a.jsx)(u.a,{children:Object(a.jsx)(j.b,{to:"/fpl_app/".concat(n),className:"nav-links",children:t.title})},e)}));Object(c.useEffect)((function(){fetch("https://kachiis-rest.herokuapp.com/api/fpl_players_refresh").then((function(t){return t.json()})).then((function(t){s(t)})).catch((function(t){return console.log(t)}))}),[]);var l=r.map((function(t){return t.player_name})),O=Object(c.useState)(!1),_=Object(o.a)(O,2),x=_[0],v=_[1];return Object(a.jsxs)(p.a,{color:"dark",dark:!0,expand:"md",className:"nav-background",children:[Object(a.jsx)(d.a,{href:"/fpl_app",children:"Fantasy Premier League Stats"}),Object(a.jsx)(b.a,{onClick:function(){return v(!x)}}),Object(a.jsxs)(h.a,{isOpen:x,navbar:!0,children:[Object(a.jsx)(m.a,{className:"mr-auto",navbar:!0,children:i}),Object(a.jsx)(W,{head_menu:"players",dropdown_menus:l})]})]})}),I=n(89),R=I.a.TabPane,U=function(t){var e=t.data.map((function(t,e){return Object(a.jsx)(R,{tab:t.title,children:t.content},e)}));return Object(a.jsx)(I.a,{type:"card",size:"large",centered:!0,children:e})},z=function(t){return t.split("_").join(" ").toUpperCase()},G=(n(191),n(229)),J=n(230),V=n(231),q=n(225),H=n(227),K=n(226),Q=function(t){var e=Object.keys(t.data[0]).filter((function(t){return"content"!==t})).slice(0,3).map((function(t,e){var n=z(t);return Object(a.jsx)(q.a,{align:"center",children:Object(a.jsx)("b",{className:"material-table-heading",children:n})},e)}));return Object(a.jsx)(K.a,{children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)(q.a,{align:"justify"}),e]})})},X=n(228),Y=n(234),Z=n(125),$=n.n(Z),tt=n(124),et=n.n(tt),nt=n(235),at=function(t){return Object(a.jsx)(H.a,{children:Object(a.jsx)(q.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(a.jsx)(nt.a,{in:t.open,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)("div",{className:"material-ui-content-container",children:t.content})})})})},ct=function(t){var e=Object.keys(t.row).filter((function(t){return"content"!==t})).slice(0,3),n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],l=function(){return i(!s)},j=e.map((function(e,n){return Object(a.jsx)(q.a,{align:"center",children:t.row[e]},n)})),u=s?Object(a.jsx)(et.a,{}):Object(a.jsx)($.a,{});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(H.a,{children:[Object(a.jsx)(q.a,{children:function(){if(t.content)return Object(a.jsx)(Y.a,{"aria-label":"expand row",size:"small",onClick:l,children:u},t.index)}()}),j]}),Object(a.jsx)(at,{open:s,content:t.content})]})},rt=function(t){var e=t.data.map((function(t,e){return Object(a.jsx)(ct,{index:e,row:t,content:t.content},e)}));return Object(a.jsx)(X.a,{children:Object(a.jsx)(c.Fragment,{children:e})})},st=function(t){return Object(a.jsx)("div",{className:"w-80 material-table",children:Object(a.jsx)(G.a,{component:J.a,children:Object(a.jsxs)(V.a,{"aria-label":"collapsible table",children:[Object(a.jsx)(Q,{data:t.data}),Object(a.jsx)(rt,{data:t.data})]})})})},it=n(233),ot=function(t){var e=it.a.Meta,n=t.span?t.span:3,c=t.width?t.width:90;return Object(a.jsx)(it.a,{className:"site-span-".concat(n," w-").concat(c," player-summary-card"),children:Object(a.jsx)(e,{title:"".concat(t.title,":"),description:t.description})})},lt=function(t){var e=t.data.matches.map((function(t){var e=Object.keys(t).filter((function(t){return"content"!==t})).map((function(e){return Object(a.jsx)(ot,{className:"text-center",title:"".concat(z(e)),description:0===t[e]?"0":"team_value"===e?"\xa3".concat(t[e]/10,"M"):t[e]})}));return t.content=Object(a.jsx)("div",{className:"site-grid-system detail-table",children:e}),t}));return Object(a.jsx)(st,{data:e})},jt=(n(192),function(t){var e={player_id:t.data.player_id,total_points:t.data.points_total,team_value:t.data.team_value/10,total_transfers:t.data.transfers_total},n=Object.keys(e).map((function(n){var c,r;switch(n){case"total_transfers":c="TRANSFERS",r=Object(a.jsxs)("div",{className:"labels-description-box",children:[Object(a.jsx)("h5",{children:t.data.transfers_total}),Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Points Spent On Transfers: "}),t.data.points_on_transfers]})]});break;case"total_points":c="TOTAL POINTS",r=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:e[n]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("b",{children:["Last GW (",t.data.current_gameweek,")"]}),": ",t.data.last_gameweek_points," points"]})]});break;case"team_value":c="TEAM VALUE",r=Object(a.jsxs)("h4",{children:["\xa3",e[n],"M"]});break;default:c=z(n),r=Object(a.jsx)("h4",{children:e[n]})}return Object(a.jsx)(ot,{title:"".concat(c,":"),description:r})}));return Object(a.jsx)("div",{className:"w-90 m-auto site-grid-system detail-table",children:n})}),ut=function(t){var e=t.data.map((function(t){var e=Object(a.jsxs)("div",{children:[Object(a.jsxs)("h6",{children:["Matchday: ",t.chip_matchday]}),Object(a.jsxs)("p",{children:["Date Used: ",t.chip_date]})]});return Object(a.jsx)(ot,{width:80,span:"4",className:"text-center",title:"".concat(z(t.chip_name)),description:e})})),n=5===t.data.length?"None":5-t.data.length,c=Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:n})});return Object(a.jsxs)("div",{className:"site-grid-system detail-table",children:[Object(a.jsx)(ot,{width:80,span:4,title:"Chips Remaining",description:c}),e]})},pt=function(t){var e=[{title:"Summary",content:Object(a.jsx)(jt,{title:"Summary",data:t.data})},{title:"Detailed",content:Object(a.jsx)(lt,{title:"Detailed Table",data:t.data})},{title:"Chips",content:Object(a.jsx)(ut,{data:t.data.chips})}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:t.data.player_name}),Object(a.jsx)("h4",{children:t.data.team_name}),Object(a.jsx)(U,{data:e})]})},dt=function(){var t=Object(c.useState)(f),e=Object(o.a)(t,2),n=e[0],r=e[1];Object(c.useEffect)((function(){fetch("https://kachiis-rest.herokuapp.com/api/fpl_players/").then((function(t){return t.json()})).then((function(t){r(t)})).catch((function(t){return console.log(t)}))}),[]);var s=C.map((function(t,e){var n=t.title.split(" ").join("-");return Object(a.jsx)(l.a,{path:"/fpl_app/".concat(n),children:t.content},e)})),i=n.map((function(t,e){return Object(a.jsx)(l.a,{path:"/player/".concat(t.player_name),children:Object(a.jsx)(pt,{data:t})},e)}));return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(B,{}),Object(a.jsx)("main",{children:Object(a.jsxs)(l.c,{children:[s,i,Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(M,{title:"Weekly Points",type:"weekly_points"})})]})})]})})},bt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(dt,{})}),document.getElementById("root")),bt()}},[[193,1,2]]]);
//# sourceMappingURL=main.67994319.chunk.js.map