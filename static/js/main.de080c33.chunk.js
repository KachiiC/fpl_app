(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),s=n(24),i=n.n(s),o=(n(68),n(13)),l=(n(69),n(70),n(71),n(72),n(10)),j=n(25),h=n(120),u=n(121),d=n(122),p=n(123),b=n(124),m=n(125),O=[{player_name:"",player_id:"",points_total:"",transfers_total:"",current_gameweek:"",chips:[{chip_name:"",chip_date:"",chip_matchday:""}],matches:[{gameweek:"",game_week_points:"",points_total:"",team_value:"",game_week_transfers:"",game_week_transfers_cost:"",bench_points:""}]}],f=n(118),_=n(22),x=function(){var e=Object(a.useState)(O),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!0),i=Object(o.a)(s,2),l=i[0],j=i[1];Object(a.useEffect)((function(){fetch("https://kachiis-rest.herokuapp.com/api/fpl_players_refresh").then((function(e){return e.json()})).then((function(e){r(e),j(!1)})).catch((function(e){return console.log(e)}))}),[]);var h=n[0].matches.map((function(e){return Object(c.jsxs)("th",{children:["GW",e.gameweek]})})),u=n.sort((function(e,t){return t.matches.map((function(e){return e.game_week_transfers_cost})).reduce((function(e,t){return e+t}))-e.matches.map((function(e){return e.game_week_transfers_cost})).reduce((function(e,t){return e+t}))})).map((function(e){var t=e.matches.map((function(e){var t=e.game_week_transfers_cost>0?4===e.game_week_transfers_cost?"yellow":"red":"none";return Object(c.jsx)("td",{className:"transfer-".concat(t),children:e.game_week_transfers_cost})})),a=e.matches.map((function(e){return e.game_week_transfers_cost})).reduce((function(e,t){return e+t}));return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"player-rank rank-name",children:n.indexOf(e)+1}),Object(c.jsx)("td",{className:"player-name rank-name",children:e.player_name}),t,Object(c.jsx)("td",{children:a})]})})),d=l?Object(c.jsx)(f.a,{}):Object(c.jsx)(_.a,{responsive:!0,children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"player-rank rank-name",children:"Rank"}),Object(c.jsx)("th",{className:"player-name rank-name",children:"Players"}),h,Object(c.jsx)("th",{children:"Total"})]}),u]})});return Object(c.jsxs)("div",{className:"table-container",children:[Object(c.jsx)("h2",{children:"Points Spent on Transfers"}),d]})},v=function(e,t){var n=Object(a.useState)(t),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!0),l=Object(o.a)(i,2),j=l[0],h=l[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),p=d[0],b=d[1];return Object(a.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){b(!0),h(!1),s(e)})).catch((function(e){h(!1),console.log(e)}))}),[e]),{response:r,isFetching:j,isDisplayable:p}},k=n(57),g=n.n(k),y=function(e){return e.data.IsFetching?Object(c.jsx)(g.a,{}):e.data.isDisplayable?e.component:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Loading Please Wait..."}),Object(c.jsx)(f.a,{})]})},w=function(e){var t=e.game_weeks.map((function(e){return Object(c.jsxs)("th",{children:["GW",e.gameweek]})}));return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"player-rank rank-name",children:"Rank"}),Object(c.jsx)("th",{className:"player-name rank-name",children:"Players"}),t,function(){if("points_total"!==e.type&&"team_value"!==e.type)return Object(c.jsx)("th",{children:"Total"})}()]})},N=function(e){var t=e.averages.map((function(t,n){var a="team_value"===e.type?"".concat((t/10).toFixed(1),"M"):t.toFixed(1);return Object(c.jsx)("td",{children:a},n)}));return Object(c.jsxs)(c.Fragment,{children:[e.rows,Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"player-rank rank-name",children:"-"}),Object(c.jsx)("td",{className:"player-name rank-name",children:"Average"}),t,function(){if("points_total"!==e.type&&"team_value"!==e.type)return Object(c.jsx)("td",{children:e.total_averages})}()]})]})},T=function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsx)(_.a,{responsive:!0,children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)(w,{total:e.total,game_weeks:e.data[0].matches,type:e.type}),Object(c.jsx)(N,{type:e.type,rows:e.rows,averages:e.averages,total_averages:e.total_averages})]})})]})},F=function(e){var t="team_value"===e.type?"".concat((e.value/10).toFixed(1),"M"):e.value;return Object(c.jsx)("td",{className:"".concat(e.rating,"-week ").concat(e.table_style),children:t})},P=function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.rank}),Object(c.jsx)("td",{children:e.player_name}),e.game_weeks,function(){if("points_total"!==e.type&&"team_value"!==e.type)return Object(c.jsx)(F,{rating:e.total_rating,value:e.total_points})}()]})},S=function(e,t){return e>=t?"good":"bad"},A=function(e){for(var t,n,a=v("https://kachiis-rest.herokuapp.com/api/fpl_players_refresh",O),r=a.response,s=[],i=[],o=e.type,l=0;l<r[0].matches.length;l++)for(var j=0;j<r.length;j++)switch(o){case"weekly_points":s.push(r[j].matches[l].game_week_points);break;case"points_total":s.push(r[j].matches[l].points_total);break;case"team_value":s.push(r[j].matches[l].team_value);break;case"bench_points":s.push(Math.floor(r[j].matches[l].bench_points))}for(var h=0;h<s.length;h+=r.length)i.push(s.slice(h,h+r.length).reduce((function(e,t){return e+t}))/r.length);switch(o){case"weekly_points":t=r.map((function(e){return e.points_total})).reduce((function(e,t){return e+t}))/r.length,n=r;break;case"bench_points":t=r.map((function(e){return e.matches.map((function(e){return e.bench_points})).reduce((function(e,t){return e+t}))})).reduce((function(e,t){return e+t}))/r.length,n=r.sort((function(e,t){var n=function(e){return e.matches.map((function(e){return e.bench_points})).reduce((function(e,t){return e+t}))};return n(e)-n(t)}));break;case"team_value":n=r.sort((function(e,t){return t.matches[t.matches.length-1].team_value-e.matches[e.matches.length-1].team_value}));break;default:n=r}var u=n.map((function(n,a){var s,l,j=n.matches.map((function(e,t){var a,r;switch(o){case"points_total":a=e.points_total;break;case"weekly_points":a=e.game_week_points;break;case"team_value":a=e.team_value;break;case"bench_points":r=(a=e.bench_points)>i[n.matches.indexOf(e)]?"bad":"good"}var s="bench_points"===o?r:S(a,i[n.matches.indexOf(e)]);return Object(c.jsx)(F,{type:o,rating:s,value:a},t)}));switch(o){case"bench_points":l=(s=n.matches.map((function(e){return e.bench_points})).reduce((function(e,t){return e+t})))>t?"bad":"good";break;case"weekly_points":s=n.points_total}var h="bench_points"===o?l:S(s,t);return Object(c.jsx)(P,{type:e.type,rank:r.indexOf(n)+1,player_name:n.player_name,game_weeks:j,total_rating:h,total_points:s},a)})),d=Object(c.jsx)(T,{title:e.title,data:r,type:e.type,rows:u,averages:i,total_averages:t});return Object(c.jsx)("div",{className:"table-container",children:Object(c.jsx)(y,{data:a,component:d})})},W=[{title:"Weekly Totals",content:Object(c.jsx)(A,{type:"points_total",title:"Weekly Totals"})},{title:"Team value",content:Object(c.jsx)(A,{type:"team_value",title:"Team Value"})},{title:"Bench points",content:Object(c.jsx)(A,{type:"bench_points",title:"Bench Points"})},{title:"Points on transfers",content:Object(c.jsx)(x,{})}],G=n(119),C=n(127),L=n(126),M=n(128),B=function(e){var t=e.dropdown_menus.map((function(e,t){return Object(c.jsx)(G.a,{className:"nav-dropdown-menu-link",children:Object(c.jsx)(j.b,{to:"/player/".concat(e),className:"nav-dropdown-menu-link",children:e})},t)}));return Object(c.jsxs)(C.a,{children:[Object(c.jsx)(L.a,{nav:!0,caret:!0,className:"nav-links",children:e.head_menu}),Object(c.jsx)(M.a,{inNavbar:!0,nav:!0,className:"nav-dropdown-menu",children:t})]})},E=(n(97),function(e){var t=Object(a.useState)(O),n=Object(o.a)(t,2),r=n[0],s=n[1],i=W.map((function(e,t){var n=e.title.split(" ").join("-");return Object(c.jsx)(h.a,{children:Object(c.jsx)(j.b,{to:"/fpl_app/".concat(n),className:"nav-links",children:e.title})},t)}));Object(a.useEffect)((function(){fetch("https://kachiis-rest.herokuapp.com/api/fpl_players_refresh").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),[]);var l=r.map((function(e){return e.player_name})),f=Object(a.useState)(!1),_=Object(o.a)(f,2),x=_[0],v=_[1];return Object(c.jsxs)(u.a,{color:"dark",dark:!0,expand:"md",className:"nav-background",children:[Object(c.jsx)(d.a,{href:"/fpl_app",children:"Fantasy Premier League Stats"}),Object(c.jsx)(p.a,{onClick:function(){return v(!x)}}),Object(c.jsxs)(b.a,{isOpen:x,navbar:!0,children:[Object(c.jsx)(m.a,{className:"mr-auto",navbar:!0,children:i}),Object(c.jsx)(B,{head_menu:"players",dropdown_menus:l})]})]})}),D=["GW","GW Points","Total","Team value","Transfers","Transfer Cost","Bench Points"],V=function(e){var t=e.data,n=D.map((function(e){return Object(c.jsx)("th",{children:e})})),a=t.matches.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.gameweek}),Object(c.jsx)("td",{children:e.game_week_points}),Object(c.jsx)("td",{children:e.points_total}),Object(c.jsxs)("td",{children:["\xa3",e.team_value/10,"M"]}),Object(c.jsx)("td",{children:e.game_week_transfers}),Object(c.jsx)("td",{children:e.game_week_transfers_cost}),Object(c.jsx)("td",{children:e.bench_points})]})})),r=(t.matches.map((function(e){return e.team_value/10})).reduce((function(e,t){return e+t}))/t.matches.length).toFixed(2),s=t.matches.map((function(e){return e.game_week_transfers})).reduce((function(e,t){return e+t})),i=(s/t.matches.length).toFixed(1),o=t.matches.map((function(e){return e.game_week_transfers_cost})).reduce((function(e,t){return e+t})),l=(o/t.matches.length).toFixed(1),j=t.matches.map((function(e){return e.bench_points})).reduce((function(e,t){return e+t})),h=(j/t.matches.length).toFixed(2),u=t.chips.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.chip_name}),Object(c.jsx)("td",{children:e.chip_date}),Object(c.jsx)("td",{children:e.chip_matchday})]},t)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"table-container",children:[Object(c.jsx)("h1",{children:t.player_name}),Object(c.jsx)(_.a,{responsive:!0,children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("tr",{children:n}),a,Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Averages | Totals"}),Object(c.jsx)("td",{children:(t.points_total/t.matches.length).toFixed(1)}),Object(c.jsx)("td",{children:t.points_total}),Object(c.jsxs)("td",{children:["\xa3",r,"M"]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("b",{children:"AVG:"})," ",i," | ",Object(c.jsx)("b",{children:"TOTAL:"})," ",s]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("b",{children:"AVG:"})," ",l," | ",Object(c.jsx)("b",{children:"TOTAL:"})," ",o]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("b",{children:"AVG:"})," ",h," | ",Object(c.jsx)("b",{children:"TOTAL:"})," ",j]})]})]})})]}),Object(c.jsxs)("div",{className:"second-table-container",children:[Object(c.jsx)("h1",{children:"Chips Played"}),Object(c.jsx)(_.a,{responsive:!0,children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Game Week"}),Object(c.jsx)("th",{children:"Chip Played"}),Object(c.jsx)("th",{children:"Date"})]}),u]})})]})]})},I=function(){var e=Object(a.useState)(O),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){fetch("https://kachiis-rest.herokuapp.com/api/fpl_players/").then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}),[]);var s=W.map((function(e,t){var n=e.title.split(" ").join("-");return Object(c.jsx)(l.a,{path:"/fpl_app/".concat(n),children:e.content},t)})),i=n.map((function(e,t){return Object(c.jsx)(l.a,{path:"/player/".concat(e.player_name),children:Object(c.jsx)(V,{data:e})},t)}));return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(j.a,{children:[Object(c.jsx)(E,{}),Object(c.jsx)("main",{children:Object(c.jsxs)(l.c,{children:[s,i,Object(c.jsx)(l.a,{path:"/fpl_app",children:Object(c.jsx)(A,{title:"Weekly Points",type:"weekly_points"})})]})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root")),J()},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},97:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.de080c33.chunk.js.map